-----------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /home/albarran/Dropbox/UABCourse/TopicsCausalInference/log/01nsw.log
  log type:  text
 opened on:  14 Jun 2021, 18:42:48

. 
. *********************************************
. 
. use ./data/nsw.dta, replace

. 
. * Data checking
. describe

Contains data from ./data/nsw.dta
  obs:           445                          
 vars:            11                          11 Mar 2020 14:18
-----------------------------------------------------------------------------------------------------------------
              storage   display    value
variable name   type    format     label      variable label
-----------------------------------------------------------------------------------------------------------------
data_id         str20   %20s                  
treat           float   %9.0g                 
age             float   %9.0g                 
educ            float   %9.0g                 
black           float   %9.0g                 
hisp            float   %9.0g                 
marr            float   %9.0g                 
nodegree        float   %9.0g                 
re74            float   %9.0g                 
re75            float   %9.0g                 
re78            float   %9.0g                 
-----------------------------------------------------------------------------------------------------------------
Sorted by: 

. 
. /* -------------------------------------------------------------------------- */
. 
. ****************************************************
. * Checking balancing of observed characteristics
. ****************************************************
. 
. global XX "age educ black hisp marr nodegree"

. 
. foreach X of global XX {
  2.     display "`X'"
  3.     ttest `X', by(treat) unequal
  4. 
.     reg `X' treat, vce(robust)
  5. }
age

Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     260    25.05385    .4377027    7.057745    24.19194    25.91576
       1 |     185    25.81622    .5260475    7.155019    24.77836    26.85408
---------+--------------------------------------------------------------------
combined |     445    25.37079    .3365857    7.100282    24.70929    26.03229
---------+--------------------------------------------------------------------
    diff |           -.7623701    .6843315               -2.107777    .5830373
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =  -1.1140
Ho: diff = 0                     Satterthwaite's degrees of freedom =  393.109

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.1330         Pr(|T| > |t|) = 0.2659          Pr(T > t) = 0.8670

Linear regression                               Number of obs     =        445
                                                F(1, 443)         =       1.24
                                                Prob > F          =     0.2658
                                                R-squared         =     0.0028
                                                Root MSE          =     7.0983

------------------------------------------------------------------------------
             |               Robust
         age |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .7623701   .6842376     1.11   0.266     -.582385    2.107125
       _cons |   25.05385   .4378452    57.22   0.000     24.19333    25.91436
------------------------------------------------------------------------------
educ

Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     260    10.08846    .1001162    1.614325    9.891316    10.28561
       1 |     185    10.34595    .1478259     2.01065    10.05429     10.6376
---------+--------------------------------------------------------------------
combined |     445    10.19551    .0849546    1.792119    10.02854    10.36247
---------+--------------------------------------------------------------------
    diff |           -.2574844    .1785378                 -.60866    .0936912
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =  -1.4422
Ho: diff = 0                     Satterthwaite's degrees of freedom =  340.597

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.0751         Pr(|T| > |t|) = 0.1502          Pr(T > t) = 0.9249

Linear regression                               Number of obs     =        445
                                                F(1, 443)         =       2.08
                                                Prob > F          =     0.1499
                                                R-squared         =     0.0050
                                                Root MSE          =     1.7896

------------------------------------------------------------------------------
             |               Robust
        educ |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .2574844   .1785001     1.44   0.150    -.0933278    .6082966
       _cons |   10.08846   .1001488   100.73   0.000     9.891636    10.28529
------------------------------------------------------------------------------
black

Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     260    .8269231    .0235073    .3790434    .7806334    .8732128
       1 |     185    .8432432    .0268028    .3645579    .7903629    .8961236
---------+--------------------------------------------------------------------
combined |     445    .8337079    .0176706    .3727617    .7989795    .8684363
---------+--------------------------------------------------------------------
    diff |           -.0163202    .0356509               -.0864037    .0537634
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =  -0.4578
Ho: diff = 0                     Satterthwaite's degrees of freedom =  405.491

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.3237         Pr(|T| > |t|) = 0.6474          Pr(T > t) = 0.6763

Linear regression                               Number of obs     =        445
                                                F(1, 443)         =       0.21
                                                Prob > F          =     0.6473
                                                R-squared         =     0.0005
                                                Root MSE          =      .3731

------------------------------------------------------------------------------
             |               Robust
       black |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .0163202   .0356467     0.46   0.647    -.0537375    .0863778
       _cons |   .8269231   .0235149    35.17   0.000     .7807084    .8731377
------------------------------------------------------------------------------
hisp

Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     260    .1076923    .0192619    .3105893    .0697624    .1456222
       1 |     185    .0594595    .0174337    .2371244    .0250637    .0938552
---------+--------------------------------------------------------------------
combined |     445    .0876404    .0134197    .2830895    .0612664    .1140145
---------+--------------------------------------------------------------------
    diff |            .0482328    .0259799               -.0028271    .0992928
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =   1.8565
Ho: diff = 0                     Satterthwaite's degrees of freedom =  440.782

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.9680         Pr(|T| > |t|) = 0.0640          Pr(T > t) = 0.0320

Linear regression                               Number of obs     =        445
                                                F(1, 443)         =       3.45
                                                Prob > F          =     0.0640
                                                R-squared         =     0.0071
                                                Root MSE          =     .28241

------------------------------------------------------------------------------
             |               Robust
        hisp |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |  -.0482328   .0259792    -1.86   0.064    -.0992907     .002825
       _cons |   .1076923   .0192682     5.59   0.000     .0698239    .1455607
------------------------------------------------------------------------------
marr

Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     260    .1538462    .0224191    .3614971    .1096992    .1979931
       1 |     185    .1891892    .0288735    .3927217    .1322235    .2461548
---------+--------------------------------------------------------------------
combined |     445    .1685393    .0177656    .3747658    .1336242    .2034544
---------+--------------------------------------------------------------------
    diff |            -.035343    .0365553               -.1072217    .0365357
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =  -0.9668
Ho: diff = 0                     Satterthwaite's degrees of freedom =  375.723

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.1671         Pr(|T| > |t|) = 0.3342          Pr(T > t) = 0.8329

Linear regression                               Number of obs     =        445
                                                F(1, 443)         =       0.94
                                                Prob > F          =     0.3341
                                                R-squared         =     0.0022
                                                Root MSE          =     .37478

------------------------------------------------------------------------------
             |               Robust
        marr |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |    .035343   .0365494     0.97   0.334    -.0364887    .1071748
       _cons |   .1538462   .0224264     6.86   0.000     .1097708    .1979215
------------------------------------------------------------------------------
nodegree

Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     260    .8346154    .0230856    .3722439     .789156    .8800747
       1 |     185    .7081081     .033516    .4558666    .6419831    .7742331
---------+--------------------------------------------------------------------
combined |     445    .7820225     .019594    .4133367    .7435139    .8205311
---------+--------------------------------------------------------------------
    diff |            .1265073    .0406972                .0464612    .2065533
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =   3.1085
Ho: diff = 0                     Satterthwaite's degrees of freedom =  344.862

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.9990         Pr(|T| > |t|) = 0.0020          Pr(T > t) = 0.0010

Linear regression                               Number of obs     =        445
                                                F(1, 443)         =       9.67
                                                Prob > F          =     0.0020
                                                R-squared         =     0.0228
                                                Root MSE          =     .40906

------------------------------------------------------------------------------
             |               Robust
    nodegree |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |  -.1265073   .0406889    -3.11   0.002    -.2064745   -.0465401
       _cons |   .8346154   .0230931    36.14   0.000     .7892297     .880001
------------------------------------------------------------------------------

. 
. 
. /* -------------------------------------------------------------------------- */
. 
. ****************************************************
. *** ATE
. ****************************************************
. 
. ttest re78, by(treat) unequal

Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     260    4554.801    340.0931    5483.836    3885.102    5224.501
       1 |     185    6349.144    578.4229    7867.402    5207.949    7490.338
---------+--------------------------------------------------------------------
combined |     445    5300.764    314.3629    6631.492     4682.94    5918.588
---------+--------------------------------------------------------------------
    diff |           -1794.342    670.9965               -3114.674   -474.0105
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =  -2.6741
Ho: diff = 0                     Satterthwaite's degrees of freedom =  307.132

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.0039         Pr(|T| > |t|) = 0.0079          Pr(T > t) = 0.9961

. 
. reg re78 treat, vce(robust)

Linear regression                               Number of obs     =        445
                                                F(1, 443)         =       7.15
                                                Prob > F          =     0.0078
                                                R-squared         =     0.0178
                                                Root MSE          =     6579.5

------------------------------------------------------------------------------
             |               Robust
        re78 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   1794.342   670.8245     2.67   0.008     475.9486    3112.736
       _cons |   4554.801   340.2038    13.39   0.000     3886.187    5223.415
------------------------------------------------------------------------------

. 
. /* -------------------------------------------------------------------------- */
. 
. ****************************************************
. *** Including covariates
. ****************************************************
. 
. gen agesq = age^2

. 
. reg re78 treat ${XX} agesq, vce(robust)

Linear regression                               Number of obs     =        445
                                                F(8, 436)         =       2.86
                                                Prob > F          =     0.0042
                                                R-squared         =     0.0484
                                                Root MSE          =     6528.2

------------------------------------------------------------------------------
             |               Robust
        re78 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   1669.971   672.4847     2.48   0.013     348.2563    2991.686
         age |   178.2931   252.3748     0.71   0.480    -317.7294    674.3156
        educ |   378.0895   193.5129     1.95   0.051    -2.244584    758.4235
       black |  -2212.488   996.7206    -2.22   0.027    -4171.462   -253.5132
        hisp |   118.6311   1356.568     0.09   0.930    -2547.595    2784.857
        marr |   82.76498   934.2246     0.09   0.929    -1753.379    1918.909
    nodegree |  -106.8054   1050.525    -0.10   0.919    -2171.528    1957.917
       agesq |  -2.083698   4.023491    -0.52   0.605    -9.991547    5.824152
       _cons |  -421.9575   5024.842    -0.08   0.933    -10297.88    9453.966
------------------------------------------------------------------------------

. 
. ****************************************************
. *** Treatment heterogeneity
. ****************************************************
. 
. ** by education
. reg re78 treat i.treat##i.nodegree ${XX}, vce(robust)
note: 1.treat omitted because of collinearity
note: nodegree omitted because of collinearity

Linear regression                               Number of obs     =        445
                                                F(8, 436)         =       2.83
                                                Prob > F          =     0.0046
                                                R-squared         =     0.0510
                                                Root MSE          =     6519.2

--------------------------------------------------------------------------------
               |               Robust
          re78 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------+----------------------------------------------------------------
         treat |   3073.857   1436.369     2.14   0.033     250.7883    5896.925
       1.treat |          0  (omitted)
    1.nodegree |   757.7112   1071.177     0.71   0.480    -1347.602    2863.024
               |
treat#nodegree |
          1 1  |  -1821.929   1640.393    -1.11   0.267    -5045.991    1402.132
               |
           age |    52.5893   41.58244     1.26   0.207    -29.13765    134.3162
          educ |    373.041   198.3523     1.88   0.061    -16.80455    762.8866
         black |   -2210.48   1022.186    -2.16   0.031    -4219.505   -201.4547
          hisp |    38.6008   1367.421     0.03   0.977    -2648.956    2726.158
          marr |   233.6295   902.9849     0.26   0.796    -1541.115    2008.374
      nodegree |          0  (omitted)
         _cons |   629.2257   3258.854     0.19   0.847     -5775.79    7034.242
--------------------------------------------------------------------------------

. 
. gen higheduc = (educ>8)

. reg re78 treat i.treat##i.higheduc ${XX}, vce(robust)
note: 1.treat omitted because of collinearity

Linear regression                               Number of obs     =        445
                                                F(9, 435)         =       3.32
                                                Prob > F          =     0.0006
                                                R-squared         =     0.0528
                                                Root MSE          =     6520.4

--------------------------------------------------------------------------------
               |               Robust
          re78 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------+----------------------------------------------------------------
         treat |  -108.7308   938.6081    -0.12   0.908    -1953.502     1736.04
       1.treat |          0  (omitted)
    1.higheduc |   485.7079   1259.342     0.39   0.700    -1989.443    2960.859
               |
treat#higheduc |
          1 1  |   2112.422   1200.541     1.76   0.079    -247.1602    4472.004
               |
           age |   54.80927   41.47591     1.32   0.187    -26.70883    136.3274
          educ |   118.7087   328.9289     0.36   0.718    -527.7787    765.1962
         black |  -2231.349   987.8973    -2.26   0.024    -4172.995   -289.7037
          hisp |  -53.40007   1335.935    -0.04   0.968     -2679.09     2572.29
          marr |   234.3704   893.8442     0.26   0.793     -1522.42    1991.161
      nodegree |   -552.035   1114.676    -0.50   0.621    -2742.855    1638.785
         _cons |   3841.158   3783.606     1.02   0.311    -3595.264    11277.58
--------------------------------------------------------------------------------

. 
. log close
      name:  <unnamed>
       log:  /home/albarran/Dropbox/UABCourse/TopicsCausalInference/log/01nsw.log
  log type:  text
 closed on:  14 Jun 2021, 18:42:48
-----------------------------------------------------------------------------------------------------------------
